{"ast":null,"code":"\"use strict\";\n\nfunction getHeaderValueFromOptions(options) {\n  var DEFAULT_PERMITTED_POLICIES = 'none';\n  var ALLOWED_POLICIES = ['none', 'master-only', 'by-content-type', 'all'];\n  var permittedPolicies;\n\n  if ('permittedPolicies' in options) {\n    permittedPolicies = options.permittedPolicies;\n  } else {\n    permittedPolicies = DEFAULT_PERMITTED_POLICIES;\n  }\n\n  if (ALLOWED_POLICIES.indexOf(permittedPolicies) === -1) {\n    throw new Error(\"\\\"\" + permittedPolicies + \"\\\" is not a valid permitted policy. Allowed values: \" + ALLOWED_POLICIES.join(', ') + \".\");\n  }\n\n  return permittedPolicies;\n}\n\nmodule.exports = function crossdomain(options) {\n  if (options === void 0) {\n    options = {};\n  }\n\n  var headerValue = getHeaderValueFromOptions(options);\n  return function crossdomain(_req, res, next) {\n    res.setHeader('X-Permitted-Cross-Domain-Policies', headerValue);\n    next();\n  };\n};","map":null,"metadata":{},"sourceType":"script"}