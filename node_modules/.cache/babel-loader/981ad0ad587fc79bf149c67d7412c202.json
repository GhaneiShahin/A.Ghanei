{"ast":null,"code":"\"use strict\";\n\nvar __extends = this && this.__extends || function () {\n  var _extendStatics = function extendStatics(d, b) {\n    _extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) {\n        if (b.hasOwnProperty(p)) d[p] = b[p];\n      }\n    };\n\n    return _extendStatics(d, b);\n  };\n\n  return function (d, b) {\n    _extendStatics(d, b);\n\n    function __() {\n      this.constructor = d;\n    }\n\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar react_1 = __importDefault(require(\"react\"));\n\nvar lodash_throttle_1 = __importDefault(require(\"lodash.throttle\"));\n\nvar Utils_1 = require(\"../util/Utils\"); // require(\"./SkillBar.scss\");\n\n\nvar SkillBar =\n/** @class */\nfunction (_super) {\n  __extends(SkillBar, _super);\n\n  function SkillBar(props) {\n    var _this = _super.call(this, props) || this;\n\n    var clientSide = typeof window !== 'undefined';\n    _this.listener = lodash_throttle_1.default(_this.handleScroll.bind(_this), 200);\n\n    if (clientSide && window.addEventListener) {\n      window.addEventListener('scroll', _this.listener);\n    }\n\n    _this.state = {\n      collapsed: true,\n      lastVisibility: {\n        partially: false,\n        completely: false\n      },\n      clientSide: clientSide\n    };\n    return _this;\n  }\n\n  SkillBar.posTop = function () {\n    if (typeof window.pageYOffset !== 'undefined') {\n      return window.pageYOffset;\n    } else if (document && document.documentElement && document.documentElement.scrollTop) {\n      return document.documentElement.scrollTop;\n    } else if (document && document.body && document.body.scrollTop) {\n      return document.body.scrollTop;\n    }\n\n    return 0;\n  };\n\n  SkillBar.prototype.componentDidMount = function () {\n    if (this.state.clientSide && this.node) {\n      this.setState({\n        elementBottom: this.node.getBoundingClientRect().bottom + SkillBar.posTop(),\n        elementTop: this.node.getBoundingClientRect().top + SkillBar.posTop()\n      }, this.handleScroll);\n      this.handleScroll();\n    }\n  };\n\n  SkillBar.prototype.componentWillUnmount = function () {\n    this.removeListener();\n  };\n\n  SkillBar.prototype.removeListener = function () {\n    if (this.state.clientSide) {\n      window.removeEventListener('scroll', this.listener);\n    }\n  };\n\n  SkillBar.prototype.visibilityHasChanged = function (visible) {\n    return visible.completely !== this.state.lastVisibility.completely || visible.partially !== this.state.lastVisibility.partially;\n  };\n\n  SkillBar.prototype.isMovingIntoView = function (visible) {\n    return !this.state.lastVisibility.completely && visible.completely;\n  };\n\n  SkillBar.prototype.handleScroll = function () {\n    var _this = this;\n\n    var visible = this.isVisible();\n\n    if (this.state.collapsed && this.visibilityHasChanged(visible) && this.isMovingIntoView(visible)) {\n      setTimeout(function () {\n        _this.setState({\n          collapsed: false\n        });\n      }, this.props.animationDelay);\n      this.removeListener();\n      this.setState({\n        lastVisibility: visible\n      });\n    } else {\n      this.setState({\n        lastVisibility: visible\n      });\n    }\n  };\n\n  SkillBar.prototype.isVisible = function () {\n    var viewBottom = window.pageYOffset + window.innerHeight;\n    var viewTop = window.pageYOffset;\n    var offset = this.props.offset;\n    var elementBottom = this.state.elementBottom || 0;\n    var elementTop = this.state.elementTop || 0;\n    var middleOfView = window.pageYOffset + window.innerHeight / 2;\n\n    if (elementBottom - elementTop > window.innerHeight - 2 * offset) {\n      var completely = elementTop < middleOfView + offset && elementBottom > middleOfView - offset;\n      var partially = completely || elementTop > middleOfView + offset && elementTop < viewBottom || elementBottom < middleOfView - offset && elementBottom > viewTop;\n      return {\n        completely: completely,\n        partially: partially\n      };\n    }\n\n    return {\n      completely: elementBottom < viewBottom - offset && elementBottom > viewTop + offset && elementTop > viewTop + offset && elementTop < viewBottom - offset,\n      partially: elementBottom < viewBottom && elementBottom > viewTop || elementTop > viewTop && elementTop < viewBottom\n    };\n  };\n\n  SkillBar.prototype.getSkillBarColor = function (skill, index) {\n    var colors = this.props.colors;\n\n    if (skill.color && skill.color.bar && Utils_1.Utils.isString(skill.color.bar)) {\n      return skill.color.bar;\n    } else if (colors && colors.bar) {\n      if (Utils_1.Utils.isString(colors.bar)) {\n        return colors.bar;\n      }\n\n      return Utils_1.Utils.getHSL(colors.bar, index, this.props.skills.length);\n    }\n\n    return '';\n  };\n\n  SkillBar.prototype.getTitleColor = function (skill, index, entry) {\n    var colors = this.props.colors;\n\n    if (skill.color && skill.color.title && skill.color.title[entry] && Utils_1.Utils.isString(skill.color.title[entry])) {\n      return skill.color.title[entry];\n    } else if (colors && colors.title && colors.title[entry]) {\n      if (Utils_1.Utils.isString(colors.title[entry])) {\n        return colors.title[entry];\n      }\n\n      return Utils_1.Utils.getHSL(colors.title[entry], index, this.props.skills.length);\n    }\n\n    return '';\n  };\n\n  SkillBar.prototype.render = function () {\n    var _this = this;\n\n    var collapsed = this.state.collapsed;\n    var skills = this.props.skills;\n    return react_1.default.createElement(\"div\", {\n      ref: function ref(node) {\n        return _this.node = node;\n      }\n    }, skills.map(function (skill, index) {\n      return react_1.default.createElement(\"div\", {\n        key: skill.type,\n        className: \"skillbar\",\n        style: {\n          height: \"\" + Utils_1.Utils.getHeight(_this.props.height),\n          lineHeight: \"\" + Utils_1.Utils.getHeight(_this.props.height)\n        }\n      }, react_1.default.createElement(\"div\", {\n        className: \"skillbar-title\",\n        style: {\n          color: \"\" + _this.getTitleColor(skill, index, 'text'),\n          background: \"\" + _this.getTitleColor(skill, index, 'background')\n        }\n      }, react_1.default.createElement(\"span\", null, skill.type)), react_1.default.createElement(\"div\", {\n        className: \"skillbar-bar \" + (collapsed ? 'collapsed' : ''),\n        style: {\n          background: \"\" + _this.getSkillBarColor(skill, index),\n          width: \"calc((100% - 110px) * (\" + skill.level + \" * 0.01))\",\n          transition: \"width \" + _this.props.animationDuration + \"ms ease-in-out\"\n        }\n      }), react_1.default.createElement(\"div\", {\n        className: \"skillbar-percent\"\n      }, skill.level, \"%\"));\n    }));\n  };\n\n  SkillBar.defaultProps = {\n    offset: 25,\n    height: 35,\n    animationDuration: 3000,\n    animationDelay: 1000\n  };\n  return SkillBar;\n}(react_1.default.Component);\n\nexports.default = SkillBar;","map":{"version":3,"sources":["/home/shahingh/REACT&NODE/A.Ghanei/node_modules/react-skillbars/build-module/components/SkillBar.js"],"names":["__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","p","hasOwnProperty","__","constructor","prototype","create","__importDefault","mod","__esModule","defineProperty","exports","value","react_1","require","lodash_throttle_1","Utils_1","SkillBar","_super","props","_this","call","clientSide","window","listener","default","handleScroll","bind","addEventListener","state","collapsed","lastVisibility","partially","completely","posTop","pageYOffset","document","documentElement","scrollTop","body","componentDidMount","node","setState","elementBottom","getBoundingClientRect","bottom","elementTop","top","componentWillUnmount","removeListener","removeEventListener","visibilityHasChanged","visible","isMovingIntoView","isVisible","setTimeout","animationDelay","viewBottom","innerHeight","viewTop","offset","middleOfView","getSkillBarColor","skill","index","colors","color","bar","Utils","isString","getHSL","skills","length","getTitleColor","entry","title","render","createElement","ref","map","key","type","className","style","height","getHeight","lineHeight","background","width","level","transition","animationDuration","defaultProps","Component"],"mappings":"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","sourcesContent":["\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar react_1 = __importDefault(require(\"react\"));\nvar lodash_throttle_1 = __importDefault(require(\"lodash.throttle\"));\nvar Utils_1 = require(\"../util/Utils\");\n// require(\"./SkillBar.scss\");\nvar SkillBar = /** @class */ (function (_super) {\n    __extends(SkillBar, _super);\n    function SkillBar(props) {\n        var _this = _super.call(this, props) || this;\n        var clientSide = typeof window !== 'undefined';\n        _this.listener = lodash_throttle_1.default(_this.handleScroll.bind(_this), 200);\n        if (clientSide && window.addEventListener) {\n            window.addEventListener('scroll', _this.listener);\n        }\n        _this.state = {\n            collapsed: true,\n            lastVisibility: { partially: false, completely: false },\n            clientSide: clientSide\n        };\n        return _this;\n    }\n    SkillBar.posTop = function () {\n        if (typeof window.pageYOffset !== 'undefined') {\n            return window.pageYOffset;\n        }\n        else if (document && document.documentElement && document.documentElement.scrollTop) {\n            return document.documentElement.scrollTop;\n        }\n        else if (document && document.body && document.body.scrollTop) {\n            return document.body.scrollTop;\n        }\n        return 0;\n    };\n    SkillBar.prototype.componentDidMount = function () {\n        if (this.state.clientSide && this.node) {\n            this.setState({\n                elementBottom: this.node.getBoundingClientRect().bottom + SkillBar.posTop(),\n                elementTop: this.node.getBoundingClientRect().top + SkillBar.posTop()\n            }, this.handleScroll);\n            this.handleScroll();\n        }\n    };\n    SkillBar.prototype.componentWillUnmount = function () {\n        this.removeListener();\n    };\n    SkillBar.prototype.removeListener = function () {\n        if (this.state.clientSide) {\n            window.removeEventListener('scroll', this.listener);\n        }\n    };\n    SkillBar.prototype.visibilityHasChanged = function (visible) {\n        return visible.completely !== this.state.lastVisibility.completely ||\n            visible.partially !== this.state.lastVisibility.partially;\n    };\n    SkillBar.prototype.isMovingIntoView = function (visible) {\n        return !this.state.lastVisibility.completely && visible.completely;\n    };\n    SkillBar.prototype.handleScroll = function () {\n        var _this = this;\n        var visible = this.isVisible();\n        if (this.state.collapsed && this.visibilityHasChanged(visible) && this.isMovingIntoView(visible)) {\n            setTimeout(function () {\n                _this.setState({ collapsed: false });\n            }, this.props.animationDelay);\n            this.removeListener();\n            this.setState({ lastVisibility: visible });\n        }\n        else {\n            this.setState({ lastVisibility: visible });\n        }\n    };\n    SkillBar.prototype.isVisible = function () {\n        var viewBottom = window.pageYOffset + window.innerHeight;\n        var viewTop = window.pageYOffset;\n        var offset = this.props.offset;\n        var elementBottom = this.state.elementBottom || 0;\n        var elementTop = this.state.elementTop || 0;\n        var middleOfView = window.pageYOffset + (window.innerHeight / 2);\n        if (elementBottom - elementTop > window.innerHeight - (2 * offset)) {\n            var completely = (elementTop < middleOfView + offset && elementBottom > middleOfView - offset);\n            var partially = completely || (((elementTop > middleOfView + offset && elementTop < viewBottom) ||\n                (elementBottom < middleOfView - offset && elementBottom > viewTop)));\n            return {\n                completely: completely,\n                partially: partially\n            };\n        }\n        return {\n            completely: (elementBottom < viewBottom - offset && elementBottom > viewTop + offset) &&\n                (elementTop > viewTop + offset && elementTop < viewBottom - offset),\n            partially: (elementBottom < viewBottom && elementBottom > viewTop) || (elementTop > viewTop && elementTop < viewBottom)\n        };\n    };\n    SkillBar.prototype.getSkillBarColor = function (skill, index) {\n        var colors = this.props.colors;\n        if (skill.color && skill.color.bar && Utils_1.Utils.isString(skill.color.bar)) {\n            return skill.color.bar;\n        }\n        else if (colors && colors.bar) {\n            if (Utils_1.Utils.isString(colors.bar)) {\n                return colors.bar;\n            }\n            return Utils_1.Utils.getHSL(colors.bar, index, this.props.skills.length);\n        }\n        return '';\n    };\n    SkillBar.prototype.getTitleColor = function (skill, index, entry) {\n        var colors = this.props.colors;\n        if (skill.color && skill.color.title && skill.color.title[entry] && Utils_1.Utils.isString(skill.color.title[entry])) {\n            return skill.color.title[entry];\n        }\n        else if (colors && colors.title && colors.title[entry]) {\n            if (Utils_1.Utils.isString(colors.title[entry])) {\n                return colors.title[entry];\n            }\n            return Utils_1.Utils.getHSL(colors.title[entry], index, this.props.skills.length);\n        }\n        return '';\n    };\n    SkillBar.prototype.render = function () {\n        var _this = this;\n        var collapsed = this.state.collapsed;\n        var skills = this.props.skills;\n        return (react_1.default.createElement(\"div\", { ref: function (node) { return _this.node = node; } }, skills.map(function (skill, index) {\n            return (react_1.default.createElement(\"div\", { key: skill.type, className: \"skillbar\", style: {\n                    height: \"\" + Utils_1.Utils.getHeight(_this.props.height),\n                    lineHeight: \"\" + Utils_1.Utils.getHeight(_this.props.height)\n                } },\n                react_1.default.createElement(\"div\", { className: \"skillbar-title\", style: {\n                        color: \"\" + _this.getTitleColor(skill, index, 'text'),\n                        background: \"\" + _this.getTitleColor(skill, index, 'background')\n                    } },\n                    react_1.default.createElement(\"span\", null, skill.type)),\n                react_1.default.createElement(\"div\", { className: \"skillbar-bar \" + (collapsed ? 'collapsed' : ''), style: {\n                        background: \"\" + _this.getSkillBarColor(skill, index),\n                        width: \"calc((100% - 110px) * (\" + skill.level + \" * 0.01))\",\n                        transition: \"width \" + _this.props.animationDuration + \"ms ease-in-out\"\n                    } }),\n                react_1.default.createElement(\"div\", { className: \"skillbar-percent\" },\n                    skill.level,\n                    \"%\")));\n        })));\n    };\n    SkillBar.defaultProps = {\n        offset: 25,\n        height: 35,\n        animationDuration: 3000,\n        animationDelay: 1000\n    };\n    return SkillBar;\n}(react_1.default.Component));\nexports.default = SkillBar;\n"]},"metadata":{},"sourceType":"script"}